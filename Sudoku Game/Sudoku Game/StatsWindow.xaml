<Window x:Class="Sudoku_Game.StatsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Your Stats"
        Background="#111" Foreground="White"
        Width="700" Height="600"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,16">
            <TextBlock Text="Your Sudoku Stats" FontSize="24" FontWeight="Bold" Margin="0,0,0,8"/>
            <TextBlock x:Name="LastUpdatedText" FontSize="12" Foreground="#999"/>
        </StackPanel>

        <!-- Stats List -->
        <Border Grid.Row="1" Background="#1a1a1a" BorderBrush="#444" BorderThickness="1" 
                CornerRadius="8" Padding="12">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <ItemsControl x:Name="StatsListControl">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Background="#252525" BorderBrush="#444" BorderThickness="1" 
                                    CornerRadius="6" Padding="16" Margin="0,0,0,12">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- Config Name -->
                                    <TextBlock Grid.Row="0" FontSize="16" FontWeight="Bold" Margin="0,0,0,8">
                                        <Run Text="{Binding Size}"/>
                                        <Run Text="×"/>
                                        <Run Text="{Binding Size}"/>
                                        <Run Text=" • "/>
                                        <Run Text="{Binding Style}"/>
                                        <Run Text=" • "/>
                                        <Run Text="{Binding Difficulty}"/>
                                    </TextBlock>

                                    <!-- Stats Grid -->
                                    <Grid Grid.Row="1">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Wins" FontSize="11" Foreground="#999" Margin="0,0,0,2"/>
                                            <TextBlock Text="{Binding Wins}" FontSize="18" FontWeight="Bold" 
                                                       Foreground="#4CAF50"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="Losses" FontSize="11" Foreground="#999" Margin="0,0,0,2"/>
                                            <TextBlock Text="{Binding Losses}" FontSize="18" FontWeight="Bold" 
                                                       Foreground="#F44336"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="2">
                                            <TextBlock Text="Give Ups" FontSize="11" Foreground="#999" Margin="0,0,0,2"/>
                                            <TextBlock Text="{Binding GiveUps}" FontSize="18" FontWeight="Bold" 
                                                       Foreground="#FF9800"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="3">
                                            <TextBlock Text="Total" FontSize="11" Foreground="#999" Margin="0,0,0,2"/>
                                            <TextBlock Text="{Binding TotalGames}" FontSize="18" FontWeight="Bold"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="4">
                                            <TextBlock Text="Win Rate" FontSize="11" Foreground="#999" Margin="0,0,0,2"/>
                                            <TextBlock FontSize="18" FontWeight="Bold" Foreground="#2196F3">
                                                <Run Text="{Binding WinRate, Mode=OneWay, StringFormat={}{0:F1}}"/>
                                                <Run Text="%"/>
                                            </TextBlock>
                                        </StackPanel>
                                    </Grid>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>

        <!-- Empty State -->
        <TextBlock x:Name="EmptyStateText" Grid.Row="1" 
                   Text="No games played yet! Start playing to see your stats." 
                   FontSize="14" Foreground="#666"
                   HorizontalAlignment="Center" VerticalAlignment="Center"
                   Visibility="Collapsed"/>

        <!-- Bottom Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
            <Button Content="Clear All Stats" Click="ClearStats_Click" 
                    Padding="16,8" Margin="0,0,12,0" Background="#444" Foreground="White"/>
            <Button Content="Close" Click="Close_Click" 
                    Padding="16,8" Background="#2196F3" Foreground="White"/>
        </StackPanel>

        <!-- Dialog Overlay -->
        <Grid x:Name="DialogOverlayGrid" Grid.Row="0" Grid.RowSpan="3" 
              Background="#DD000000" Visibility="Collapsed" Panel.ZIndex="1000">
            
            <Border Background="#1a1a1a" 
                    BorderBrush="#444" 
                    BorderThickness="2"
                    CornerRadius="12"
                    Padding="30"
                    MaxWidth="500"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Center">
                <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="30" ShadowDepth="0" Opacity="0.9"/>
                </Border.Effect>
                
                <StackPanel>
                    <!-- Dialog Title -->
                    <TextBlock x:Name="DialogTitle" 
                               Text="Dialog Title"
                               FontSize="24" 
                               FontWeight="Bold"
                               Foreground="White"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,20"/>
                    
                    <!-- Dialog Message -->
                    <TextBlock x:Name="DialogMessage" 
                               Text="Dialog message goes here"
                               FontSize="16"
                               Foreground="#CCC"
                               TextWrapping="Wrap"
                               HorizontalAlignment="Center"
                               TextAlignment="Center"
                               Margin="0,0,0,30"/>
                    
                    <!-- Dialog Buttons -->
                    <StackPanel x:Name="DialogButtons" 
                                Orientation="Horizontal"
                                HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>
